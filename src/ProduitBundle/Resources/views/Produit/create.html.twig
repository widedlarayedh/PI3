{% extends 'header.html.twig' %}
{% block content %}
    <div class="  row ">
        <div class="col-2"></div>
        <div class="col-8">
            <div class="card shadow mb-4">
                <div class="card-header py-3">
                    <h6 class="m-0 font-weight-bold text-primary">{{ action }} produit</h6>
                </div> {{ form_start(form) }}
                <div class="card-body">


                    <div class="form-group   row d-flex flex-column" >
                        <div class="col-sm-12 mb-3 mb-sm-0  col-12">
                            <label>Nom : </label>

                        </div>
                        <div class="col-sm-12 mb-3 mb-sm-0">
                            {{ form_row(form.nom) }}
                        </div>
                        <div class="col-sm-12 mb-3 mb-sm-0">
                            <div class="alert alert-danger " role="alert" style="display: none" id="errnom" >
                                le champ nom est invalide
                            </div>
                        </div>


                    </div>
                    <div class="form-group row d-flex flex-column">
                        <div class="col-sm-12 mb-3 mb-sm-0">
                            <label>Image : </label>

                        </div>
                        <div class="col-sm-12 mb-3 mb-sm-0">
                            {{ form_row(form.imageFile) }}
                        </div>

                    </div>
                    <div class="form-group row d-flex flex-column">
                        <div class="col-sm-12 mb-3 mb-sm-0">
                            <label>Quantit√© : </label>
                        </div>
                        <div class="col-sm-12 mb-3 mb-sm-0">
                            {{ form_row(form.quantite) }}
                        </div>
                    </div>
                    <div class="form-group row d-flex flex-column">
                        <div class="col-sm-12 mb-3 mb-sm-0">
                            <label>Prix : </label>
                        </div>
                        <div class="col-sm-12 mb-3 mb-sm-0">
                            {{ form_row(form.prix) }}
                        </div>

                    </div>
                    <div class="form-group row d-flex flex-column">
                        <div class="col-sm-12 mb-3 mb-sm-0">
                            <label >categorie</label>
                        </div>
                        <div class="col-sm-12 mb-3 mb-sm-0">
                            {{ form_row(form.categorie) }}
                        </div>
                    </div>
                    <div class="d-flex justify-content-end">
                        <button   type="submit" class="btn btn-primary" id="btn" disabled="true"  > {{action}} </button>

                    </div>




                </div> {{ form_end(form) }}
            </div>

        </div>

        <div class="col-2"></div>
    </div>
    <!-- Basic Card Example -->



{% endblock %}
{% block javascripts %}
    <script src="{{ asset('vendor/jquery/jquery.min.js') }}"></script>

    <script>
        $(document).ready(()=> {
            if($('#produitbundle_produit_nom').val().length > 3)
                document.getElementById('btn').removeAttribute('disabled');

            $('#produitbundle_produit_nom').on('blur', (event) => {
                if($('#produitbundle_produit_nom').val().length <= 3){
                    $('#errnom').show() ;
                    document.getElementById('btn').setAttribute('disabled', 'true');

                }else{
                    $('#errnom').hide();
                   document.getElementById('btn').removeAttribute('disabled');
                }

            })
        })
    </script>
{% endblock %}